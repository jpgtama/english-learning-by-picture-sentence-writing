<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Bootstrap -->
    <script src="css/vendor/bootstrap-3.3.7-dist/js/jquery.min.js"></script>
    <link href="css/vendor/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="css/vendor/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>



    <link href="css/index.css" rel="stylesheet">
    <script src="js/index.js"></script>
    <!--<link rel="stylesheet" href="css/widget.css">-->
    <!--<link href="css/index.css" rel="stylesheet">-->
    <title>English Learning By Picture Sentence Writing</title>
</head>
<body class="container-fluid">

<h1>Practice: xxxxxx</h1>

<h2>Pages: 2/3</h2>

<div>
    <a class="btn btn-primary" href="#">Previous</a>
    <a class="btn btn-primary right-button-of-two" href="#">Next</a>

</div>







<div class="row">

    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <div class="image-uploader-widget">
            <div>
                <img src="image/placeholder.png" data-preview-url="image/placeholder.png" style="width: 100%; height: auto;">
            </div>
            <div style="text-align: center">
                <input type="file" style="display: none;">
                <button class="btn btn-primary" >Upload</button>
            </div>
        </div>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <button type="button" class="btn btn-primary btn-lg btn-block">Add</button>
    </div>

</div>





<script>
    class ImageUploadWidget{
        constructor(rootDom){
            this.rootDom = rootDom;
            // get img dom
            this.imageDom = this.rootDom.querySelector('img');
            this.fileChooseDom = this.rootDom.querySelector('input[type=file]');
            this.buttonDom = this.rootDom.querySelector('button');

            this.buttonDom.addEventListener('click', e => {
                this.fileChooseDom.click();
        });

            this.fileChooseDom.addEventListener('change', e => {
                if(this.fileChooseDom.files.length> 0){
                var reader = new FileReader();
                reader.onload = (e) =>{ this.imageDom.src = e.target.result };
                reader.readAsDataURL(this.fileChooseDom.files[0]);
            }else{
                this.imageDom.src = this.imageDom.getAttribute('data-preview-src');
            }
        });
        }

        static parse(){
            // find out all image-uploader-widget
            document.querySelectorAll('.image-uploader-widget').forEach(dom => {
                new ImageUploadWidget(dom);
        });
        }
    };

    ImageUploadWidget.parse();

//    new ImageWidget(document.querySelector('#picture-uploader'));
//
//    new ChineseEnglishSentenceListWidget(document.querySelector('#chinese-english-sentences'), null);
//
//    var testWorkingArea = document.querySelector('#test-working-area');
//
//    new ToolBarWrapper(document.body, undefined, testWorkingArea);


</script>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->

<!-- Include all compiled plugins (below), or include individual files as needed -->

</body>
</html>